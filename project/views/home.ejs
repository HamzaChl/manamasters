<%- include("partials/header.ejs") %>
    <main>
      <section class="hero">
        <h1 class="title ui-hover">Vind je kaart</h1>
        <h3>Art gemaakt door Laxmonaut</h3>
        <a href="#search-form-id" onclick="scrollBehaviorChange()"><div class="scroll"><img class=" bounce-top" src="/assets/images/scrolldown.webp" alt="scrolldown"></div></a>
      </section>
      <section class="card-finder">
</div>
        <form class="search-form" id="search-form-id" action="/MagicTheGathering/home" method="get">
          <div class="wrapper">
            <input
              type="text"
              id="search"
              name="search"
              placeholder="Zoek volgens naam of beschrijving"
            />
            <button>
              <svg
                class="svg-icon search-icon"
                aria-labelledby="title desc"
                role="img"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 19.9 19.7"
              >
                <title id="title">Zoek Icon</title>
                <desc id="desc">zoekicoontje.</desc>
                <g class="search-path" fill="none" stroke="#848F91">
                  <path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4" />
                  <circle cx="8" cy="8" r="7" />
                </g>
              </svg>
            </button>
          </div>
        </form>
<%- include("partials/legende.ejs") %>

        <% let counter = 0; %>
        <% for (const card of cards) {%>
          <div class="info-toggle" id="popup<%=counter%>">
            <% counter++; %>
            <article class="wrapper-card">
              <button class="btn-popup" onclick="ClosePopUp()"><span style="font-size: 3rem;">ⓧ</span></button>
              <div class="popup-wrapper">
                <section class="card-details-holder">
                  <img class="popup-img" src="<%=card.imageUrl%>" alt="<%=card.name%>" id="popupCardImg" 
                  <% if (card.rarity === "Common") { %>
                    style="box-shadow: 0px 2px 6px 5px rgba(255, 255, 255, 0.6);"
                  <% } else if (card.rarity === "Uncommon") { %>
                    style="box-shadow: 0px 2px 6px 5px rgba(18, 80, 179, 0.6);"
                  <% } else if (card.rarity === "Rare") { %>
                    style="box-shadow: 0px 2px 6px 5px rgba(174, 186, 85, 0.7);"
                  <% } else if (card.rarity === "Mythic") { %>
                    style="box-shadow: 0px 2px 6px 5px rgba(151, 0, 0, 0.9);"
                  <% }; %>
                  />
                  <div class="infos">
                    <h4>kaart naam</h4>
                    <br>
                    <p id="card-name"><%=card.name%></p>
                    <br>
                    <hr class="solid" />
                    <h4>zeldzaamheid</h4>
                    <br>
                    <p id="card-rarity"
                    <% if (card.rarity === "Common") { %>
                      style="color: rgba(255, 255, 255, 0.6);"
                    <% } else if (card.rarity === "Uncommon") { %>
                      style="color: rgba(18, 80, 179, 0.6);"
                    <% } else if (card.rarity === "Rare") { %>
                      style="color: rgba(174, 186, 85, 0.7);"
                    <% } else if (card.rarity === "Mythic") { %>
                      style="color: rgba(151, 0, 0, 0.9);"
                    <% } %>
                    > <%=card.rarity%> </p>
                    <br>
                    <hr class="solid" />
                    <h4>eigenschappen</h4>
                    <br>
                    <p id="card-text"><%=card.text%></p>
                    <br>
                    <hr class="solid" />
                    <h4>type</h4>
                    <br>
                    <p id="card-type"><%=card.type%></p>
                    <br>
                    <hr class="solid" />
                    <h4>kaart toevoegen aan deck</h4>
                    <br>
                    <select name="pets" class="select-deck" id="pet-select">
                      <option value="">--Kies een deck--</option>
                      <option value="deck01">Deck 01</option>
                      <option value="deck02">Deck 02</option>
                      <option value="deck03">Deck 03</option>
                      <option value="deck04">Deck 04</option>
                      <option value="deck05">Deck 05</option>
                    </select>
                    <button class="add-deck" id="add-to-deck-btn">+</button>
                  </div>
                </section>
              </div>
            </article>
          </div>
        <% }; %>
        <section class="card-layout">
          <% if(cards.length > 0) { %>
            <% let counter = 0; %>
            <% for (const card of cards) { %>
              <article class="card-holder" id="<%=counter%>">
              <% counter++; %>
                <img src="<%=card.imageUrl%>" alt="<%=card.name%>" class="card-img <% if(card.rarity === "Mythic") { %> wobble-hor-bottom <%} %>" 
                <% if (card.rarity === "Common") { %>
                  style="box-shadow: 0px 2px 6px 5px rgba(255, 255, 255, 0.5); outline: 1px solid rgb(255, 255, 255);"
                <% } else if (card.rarity === "Uncommon") { %>
                  style="box-shadow: 0px 2px 6px 5px rgba(18, 80, 179, 0.5); outline: 1px solid rgb(18, 80, 179);"
                <% } else if (card.rarity === "Rare") { %>
                  style="box-shadow: 0px 2px 6px 5px rgba(174, 186, 85, 0.5); outline: 1px solid rgb(174, 186, 85);"
                <% } else if (card.rarity === "Mythic") { %>
                  style="box-shadow: 0px 2px 15px 5px rgba(151, 0, 0, 0.8); outline: 1px solid rgb(151, 0, 0);"
                <% } %>
                 />
                <p class="card-name">
                  <% if (card.rarity === "Common") { %>
                    ●
                  <% } else if (card.rarity === "Uncommon") { %>
                    ♦
                  <% } else if (card.rarity === "Rare") { %>
                    ★
                  <% } else if (card.rarity === "Mythic") { %>
                    ❈
                  <% } %>
                  <%=card.name%>
                </p>
              </article>
            <% } %>
          <% } else { %>
            <p>Geen kaarten gevonden</p>
          <% }; %>
        </section>
      </section>
<%- include("partials/footer.ejs") %>
